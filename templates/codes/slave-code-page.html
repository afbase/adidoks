{% extends "slave-code-page.html" %}

{% block content %}
<h1>{{ page.title }}</h1>
<p>{{ page.description }}</p>

{% if page.extra.slave_code %}
    {% include "macros/language-tabs.html" %}
    
    <div class="mt-3">
        <input type="text" id="searchInput" class="form-control" placeholder="Search text...">
        <button class="btn btn-primary mt-2" onclick="searchText()">Search</button>
    </div>
    
    <div class="tab-content mt-3">
        {% for lang in ["en", "fr", "es", "pt"] %}
            {% set lang_data = page.extra.slave_code[lang] %}
            {% if lang_data %}
                <div class="tab-pane fade {% if loop.first %}show active{% endif %}" id="{{ lang }}" role="tabpanel">
                    <pre id="{{ lang }}-content" class="border p-3" style="white-space: pre-wrap;">
                        {% include lang_data.slave_code %}
                    </pre>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endif %}

<script src="{{ get_url(path="js/slave_code_search.js") | safe }}"></script>
{% endblock content %}